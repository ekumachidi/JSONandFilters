<!DOCTYPE html>
<html ng-app="myApp">
<head>
	<title>Working with JSON and filters</title>
	<link rel="stylesheet" href="style.css" />
	<script src="http://cdnjs.cloudflare.com/ajax/libs/angular.js/1.2.1/angular.min.js"></script>
	<script src="dirPagination.js"></script>
	<script src="angular-fusioncharts.min.js"></script>
	<!--<script src="app.js"></script>-->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
</head>
<body>
	<div>
		<p>Records <input type="text" placeholder="Search records" ng-model='query'> <span>Total records : 21638<!--{{information.length}}--></span></p>
	</div>
	<div ng-controller = "myCtrl">
		<table>
		<tr>
			<th>ID</th> 
			<th>YEAR</th>                 
			<th>SEX</th>
			<th>EDUCATION</th>
			<th>VOCABULARY</th>
		</tr>			
			<tr dir-paginate = "x in information|filter: query|itemsPerPage:10">
				<td>{{x.id}}</td>
				<td>{{x.year}}</td>
				<td>{{x.sex}}</td>
				<td>{{x.education}}</td>
				<td>{{x.vocabulary}}</td>
			</tr>            
		</table>
		<div class="sort-icon th">
			<dir-pagination-controls
			max-size="10"
			direction-links="true"
			boundary-links="true" >
		</dir-pagination-controls>	
	</div>
	<div ng-controller="MyController">
 	<div fusioncharts
      width="600"
      height="400"
      type="column2d"
      dataSource="{{myDataSource}}" >
 	</div>
	</div>
</div>
<script>
	var app = angular.module('myApp', ['angularUtils.directives.dirPagination', "ng-fusioncharts"]);
	app.controller('myCtrl', function myCtrl ($scope, $http) {
		$http.get('Class(Feb5th).json').success(function(data){
			$scope.information = [];		
			$scope.information = data;
		});			
	});
	app.controller('MyController', function ($scope) {
  $scope.myDataSource = {
    chart: {
        caption: "Harry's SuperMart",
        subCaption: "Top 5 stores in last month by revenue",
    },
    data:[{
        label: "Bakersfield Central",
        value: "880000"
    },
    {
        label: "Garden Groove harbour",
        value: "730000"
    },
    {
        label: "Los Angeles Topanga",
        value: "590000"
    },
    {
        label: "Compton-Rancho Dom",
        value: "520000"
    },
    {
        label: "Daly City Serramonte",
        value: "330000"
    }]
  };
});
</script>

</body>
</html>